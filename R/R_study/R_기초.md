# R 기초









## 저장되어 있는 변수 및 오브젝트 관리

~~~R
# 저장되어 있는 변수들을 모두 출력
ls()

# 인수로 주어지는 오브젝트 삭제
rm()

# 현재 저장되어 있는 모든 변수를 삭제
# rm() 으로 일일히 삭제해도 되지만 한꺼번에 지우고 싶을땐
# rm() 과 ls()의 list 를 결합한다.
rm( list = ls() )
~~~



## Matrix (행렬) 

- 단일형 data set (한 가지 data type 만 사용 가능)

- 행렬 생성

  **`matrix ( 변수명, nrow = 행 개수, ncol = 열 개수 )`**

  ```R
  # matrix ( 변수명, nrow = 행 개수, ncol = 열 개수 )
  
  x <- c(1, 2, 3, 4, 5, 6)
  matrix(x, nrow = 2, ncol = 3)
  matrix(x, nrow = 3, ncol = 2)
  
  ---- 실행결과 --------------------------------------  
  
  > x <- c(1, 2, 3, 4, 5, 6)
  > matrix(x, nrow = 2, ncol = 3)
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    6
  > matrix(x, nrow = 3, ncol = 2)
       [,1] [,2]
  [1,]    1    4
  [2,]    2    5
  [3,]    3    6
  ```

- 행렬을 생성하는 배치순서 변경하는 법

  ~~~R
  # 'byrow = T' 옵션을 추가하면 배치순서 변경됨
  
  x <- c(1, 2, 3, 4, 5, 6)
  matrix(x, nrow = 2, ncol = 3)	# 처음 '열'의 모든행을 채우고 다음 열을 채우는 순서...
  matrix(x, nrow = 2, ncol = 3, byrow = T)	# 처음 '행'의 모든 열을 채우고 다음 행을 채우는 순서...
  
  ---- 실행결과 --------------------------------------  
  
  > x <- c(1, 2, 3, 4, 5, 6)
  > matrix(x, nrow = 2, ncol = 3)
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    6
  > matrix(x, nrow = 2, ncol = 3, byrow = T)
       [,1] [,2] [,3]
  [1,]    1    2    3
  [2,]    4    5    6
  ~~~



## Array (배열) 

- 단일형 data set (한 가지 data type 만 사용 가능)
- 행렬을 n차원으로 확대한 구조

- 배열 생성 

  ```R
  # array( 변수명, dim = c(행 개수, 열 개수, 차원 수) )
  
  y <- c(1, 2, 3, 4, 5, 6)
  array(y, dim = c(2, 2, 3))
  
  ---- 실행결과 --------------------------------------  
  
  > array(y, dim = c(2, 2, 3))
  , , 1
  
       [,1] [,2]
  [1,]    1    3
  [2,]    2    4
  
  , , 2
  
       [,1] [,2]
  [1,]    5    1
  [2,]    6    2
  
  , , 3
  
       [,1] [,2]
  [1,]    3    5
  [2,]    4    6
  ```



## Data Frame (데이터 프레임) 

- 다중형 data set (여러가지 data type을 동시에 포함 가능)

- Data Frame 생성

  ```R
  # data.frame( 변수명1, 변수명2, ..., 변수명n )
  
  # data.frame 구성하는 변수(컬럼) 생성
  ID <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
  SEX <- c("F", "M", "F", "M", "M", "F", "F", "F", "M", "F")
  AGE <- c(50, 40, 28, 50, 27, 23, 56, 47, 20, 38)
  AREA <- c("서울", "경기", "제주", "서울", "서울", "서울", "경기", "서울", "인천", "경기")
  
  # 변수를 포함한 데이터 프레임 구조로 dataframe_ex 데이터 세트에 저장
  dataframe_ex <- data.frame(ID, SEX, AGE, AREA)
  
  # dataframe_ex 조회
  dataframe_ex
  
  # 데이터프레임 속성 확인
  str(dataframe_ex)
  
  ---- 실행결과 --------------------------------------  
  
  > dataframe_ex 
     ID SEX AGE AREA
  1   1   F  50 서울
  2   2   M  40 경기
  3   3   F  28 제주
  4   4   M  50 서울
  5   5   M  27 서울
  6   6   F  23 서울
  7   7   F  56 경기
  8   8   F  47 서울
  9   9   M  20 인천
  10 10   F  38 경기
  
  > str(dataframe_ex) 
  'data.frame':	10 obs. of  4 variables:
   $ ID  : num  1 2 3 4 5 6 7 8 9 10
   $ SEX : chr  "F" "M" "F" "M" ...
   $ AGE : num  50 40 28 50 27 23 56 47 20 38
   $ AREA: chr  "서울" "경기" "제주" "서울" ..
  ```

  

- Data Frame 구성 시, 유의사항

  - data.frame 으로 data set 을 구성할 때는 각 변수에 들어있는 관측치의 개수가 동일해야만 data.frame() 함수를 적용할 수 있다.

    예를 들어 위의 예제에서 다른 변수들은 data 개수가 10개인데 AGE 의 데이터가 8개라면 오류가 발생한다.

    ```R
    ID <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
    SEX <- c("F", "M", "F", "M", "M", "F", "F", "F", "M", "F")
    AGE <- c(50, 40, 28, 50, 27, 23, 56, 47)
    AREA <- c("서울", "경기", "제주", "서울", "서울", "서울", "경기", "서울", "인천", "경기")
    data.frame(ID, SEX, AGE, AREA)
    
    ---- 실행결과 -------------------------------------- 
    
    > data.frame(ID, SEX, AGE, AREA)
    Error in data.frame(ID, SEX, AGE, AREA) : 
      arguments imply differing number of rows: 10, 8
    ```

  - 하지만 어떤 변수의 data 개수 중 일부가 부족한게 아니라, 단 1개만 존재할 경우에는

    변수들간의 data 개수가 맞지 않더라도 첫번째 data 한 개가 다음 행들을 자동으로 채워서 data frame 을 완성하게 된다.

    ```R
    # AGE 에 data 가 하나만 입력되면, 해당 data로 AGE 의 나머지 행들을 자동으로 채움.
    
    ID <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
    SEX <- c("F", "M", "F", "M", "M", "F", "F", "F", "M", "F")
    AGE <- c(50)
    AREA <- c("서울", "경기", "제주", "서울", "서울", "서울", "경기", "서울", "인천", "경기")
    data.frame(ID, SEX, AGE, AREA)
    
    ---- 실행결과 --------------------------------------
    
    > data.frame(ID, SEX, AGE, AREA)
       ID SEX AGE AREA
    1   1   F  50 서울
    2   2   M  50 경기
    3   3   F  50 제주
    4   4   M  50 서울
    5   5   M  50 서울
    6   6   F  50 서울
    7   7   F  50 경기
    8   8   F  50 서울
    9   9   M  50 인천
    10 10   F  50 경기
    ```



