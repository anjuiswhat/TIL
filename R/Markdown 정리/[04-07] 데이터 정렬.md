# [04-07] 데이터 정렬



## `sort()`

- 주어진 벡터를 정렬한 결과를 반환한다.
- `sort()`는 값을 정렬한 결과를 반환할 뿐이지 인자로 받은 벡터 자체를 변경하지는 않는다. 

```R
sort(
  x,                 # 정렬할 벡터
  decreasing=FALSE,  # 내림차순 여부. 기본값은 FALSE. 즉, 이 옵션을 생략하면 오름차순이다.
  na.last=NA         # na.last는 NA 값을 정렬한 결과의 어디에 둘 것인지를 제어한다.
  )                  # 기본값인 na.last=NA는 NA 값을 정렬 결과에서 제외한다.
                     # na.last=TRUE는 NA 값을 정렬한 결과의 마지막에 두고,
                     # na.last=FALSE는 정렬한 값의 처음에 둔다.
  
-------------------- < example > ------------------------------

> x <- c(20, 11, 33, 50, 47)

> sort(x)
[1] 11 20 33 47 50

> sort(x, decreasing=TRUE)
[1] 50 47 33 20 11

> x		# 인자로 받은 벡터 자체는 변함없이 그대로이다.
[1] 20 11 33 50 47
```



## `order()`

- 데이터가 정렬된 순서를 반환한다.
- 반환 값은 원 데이터에 지정하면 정렬된 결과가 나오도록 하는 색인이다.
- `order()`가 정렬된 순서를 반환한다는 점을 이용해 데이터 프레임을 정렬할 수 있다.

```R
order(
  ...,  # 정렬할 데이터
  na.last=TRUE,   # na.last는 NA 값을 정렬한 결과의 어디에 둘 것인지를 제어한다.
                  # 기본값인 na.last=TRUE는 NA 값을 정렬한 결과의 마지막에 둔다.
                  # na.last=FALSE는 정렬한 값의 처음에 둔다.
                  # na.last=NA는 NA 값을 정렬 결과에서 제외한다.
  decreasing=FALSE  # 내림차순 여부
)

-------------------- < example > ------------------------------

# 아이리스 데이터를 Sepal.Width에 따라 정렬

> order(iris$Sepal.Width)
  [1]  61  63  69 120  42  54  88  94  58  81  82  70  73  90  99 107 109 114 147  80  91
 [22]  93 119 135  60  68  83  84  95 102 112 124 143  55  56  72  74  77 100 115 122 123
 [43] 127 129 131 133 134   9  59  64  65  75  79  97  98 104 108   2  13  14  26  39  46
 [64]  62  67  76  78  85  89  92  96 103 105 106 113 117 128 130 136 139 146 148 150   4
 [85]  10  31  35  53  66  87 138 140 141 142   3  30  36  43  48  51  52  71 111 116 121
[106] 126 144  24  50  57 101 125 145   7   8  12  21  25  27  29  32  40  86 137 149   1
[127]  18  28  37  41  44   5  23  38 110  11  22  49  19  20  45  47 118 132   6  17  15
[148]  33  34  16


# iris 데이터프레임을 Sepal.Width 순으로 정렬하여 출력 
# Sepal.Width 정렬 순서를 iris 데이터 프레임의 각 행에 대한 색인으로 사용

> iris[order(iris$Sepal.Length), ]
    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
14           4.3         3.0          1.1         0.1     setosa
9            4.4         2.9          1.4         0.2     setosa
39           4.4         3.0          1.3         0.2     setosa
43           4.4         3.2          1.3         0.2     setosa
42           4.5         2.3          1.3         0.3     setosa
...


# 여러 컬럼을 기준으로 데이터를 정렬하고자 한다면 해당 컬럼들을 order( )에 나열한다.
# Sepal.Length 순으로 정렬 후, Petal.Length 순으로 데이터를 정렬
# Sepal.Length 순으로 먼저 정렬되고 Sepal.Length가 같은 데이터 안에서 다시 Sepal.Width로 정렬된다.

> iris[order(iris$Sepal.Length, iris$Petal.Length), ]
    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
14           4.3         3.0          1.1         0.1     setosa
39           4.4         3.0          1.3         0.2     setosa
43           4.4         3.2          1.3         0.2     setosa
9            4.4         2.9          1.4         0.2     setosa
42           4.5         2.3          1.3         0.3     setosa
...
```


